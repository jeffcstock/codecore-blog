<section class='tag-widget'>
  <% @post.tags.each do |t| %>
    <%= t.name %>
  <% end %>
</section>
<h1><%= @post.title %></h1>
<p><%= @post.body %></p>
<p><%= @post.user&.first_name %></p>

<% if user_signed_in? && can?(:favourite, @post) %>
  <% if @fav.present? %>
    <%= link_to '💔 Unfavourite this', post_favourite_path(@post, @fav), method: :delete %>
  <% else %>
    <%= link_to '❤️ Favourite this', post_favourites_path(@post), method: :post %>
  <% end %>
<% end %>
(<%= pluralize @post.favourites.count, "favourite" %>)
<% if can? :manage, @post %>
  <%= link_to 'Edit blog post', edit_post_path(@post) %>
|
  <%= link_to 'Delete blog post', post_path(@post), method: :delete, data: { confirm: 'Do you want to delete?'} %>
<% end %>
